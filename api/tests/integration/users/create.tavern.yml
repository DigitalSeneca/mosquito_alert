---

test_name: Make everybody can create users

includes:
  - !include schema.yml

marks:
  - usefixtures:
    - api_live_url


stages:
  - name: Sign up without password must fail
    request:
      url: "{api_live_url}/{endpoint}/"
      method: POST
    response:
      status_code: 400
  - name: Sign up
    request:
      url: "{api_live_url}/{endpoint}/"
      json:
        password: "tmppassword123"
      method: POST
    response:
      status_code: 201
      json: !force_format_include "{response_data_validation}"
